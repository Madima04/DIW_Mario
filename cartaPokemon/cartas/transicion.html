<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src="main.js"></script>
</head>

<body>
    <div class="info">
        <p>Aciertos: <span id="aciertos">0</span></p>
        <p>Fallos: <span id="fallos">0</span></p>
        <button id="reset">Reiniciar Juego</button>
    </div>
    <div class="cartas">
        <div class="fila1">
            <div class="carta charizard">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta ferro">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta mew">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta machamp">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
        </div>
        <div class="fila2">
            <div class="carta charizard">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta ferro">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta mew">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta machamp">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
        </div>
    </div>
</body>
<!-- <div class="carta lucario">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta gyarados">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta brock">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div>
            <div class="carta tyranitar">
                <div class="anverso"></div>
                <div class="reverso"></div>
            </div> -->

</html>

<script>
let pulsaciones = 0;
let carta1 = '';
let carta2 = '';
let aciertos = 0;
let fallos = 0;

document.querySelectorAll(".carta").forEach(element => {
    element.addEventListener('click', function () {
        if (!element.classList.contains('selecionada')) {
            element.classList.toggle('selecionada');
            pulsaciones++;
            if (pulsaciones === 1) {
                carta1 = element.classList[1];
            } else if (pulsaciones === 2) {
                carta2 = element.classList[1];
                if (carta1 === carta2) {
                    aciertos++;
                    document.getElementById('aciertos').textContent = aciertos;
                } else {
                    fallos++;
                    document.getElementById('fallos').textContent = fallos;
                    setTimeout(quitarCartasSelecionadas, 1000);
                }
                pulsaciones = 0;
            }
        }
    });
});

function quitarCartasSelecionadas() {
    document.querySelectorAll("." + carta1).forEach(element => {
        element.classList.remove('selecionada');
    });
    document.querySelectorAll("." + carta2).forEach(element => {
        element.classList.remove('selecionada');
    });
}

document.getElementById('reset').addEventListener('click', function () {
    document.querySelectorAll(".carta").forEach(element => {
        element.classList.remove('selecionada');
    });

    aciertos = 0;
    fallos = 0;
    document.getElementById('aciertos').textContent = aciertos;
    document.getElementById('fallos').textContent = fallos;

    pulsaciones = 0;
    carta1 = '';
    carta2 = '';

});

</script>